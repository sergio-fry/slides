---
marp: true
paginate: true
---

# От монолита к экосистеме контекстов DDD

<style>
  img {
    display: block;
    max-height: 100%;
    max-width: 80%;
  }

  h1, p, ul li { color: black; }
  pre { border: 0px; background: white; }

  footer { color: #bbb }
  footer a { color: #bbb }
</style>

<!-- _paginate: skip -->

---

## Кто я?

---

## О компании

---

## Digital Assets Management

---

## О чем поговорим?

1. Domain Driven Design
2. Монолит
3. Плагины

---

## Микросервисы

---

## Хранилка файлов

---

## История

- удачные кейсы: комментарии, теги, превью, корзина
- первые проблемы: дата начала и окончания сертификатов
- хранение в files.meta.certificate_start_date/end_date
- ядро теперь не знает о кастом поле, но появилась проблема - нет валидации схемы
- создали папку с плагином
- добавили подгрузку схемы из плагина
- но теперь ядро явно знает про плагин сертификатов
- добавили реестр плагинов
- добавили проход по всем плагинам для подключения схемы
- теперь отвязались от плагинов
- добавляется правило, что  время начала не может быть после окончания
- ввели понятие kind=certificate и при загрузки из files repo находим kind из плагинов
- как и где валидировать start_date/edn_date???
- добавляем расширение для репо 
- теперь нужно вывести это поле в API 
- теперь можно вынести поля на верхний уровень 
- теперь нужно добавить сохранение
- стало много методов в реестре плагинов
- сдедали метод plug

